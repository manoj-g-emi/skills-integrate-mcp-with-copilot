<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin Panel - Mergington High School</title>
    <link rel="stylesheet" href="styles.css">
    <style>
        .admin-container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        .admin-nav {
            display: flex;
            gap: 10px;
            margin-bottom: 30px;
            flex-wrap: wrap;
        }

        .admin-nav button {
            padding: 10px 20px;
            border: none;
            background-color: #007bff;
            color: white;
            cursor: pointer;
            border-radius: 5px;
            font-size: 14px;
        }

        .admin-nav button:hover {
            background-color: #0056b3;
        }

        .admin-nav button.active {
            background-color: #28a745;
        }

        .admin-section {
            display: none;
            background: white;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }

        .admin-section.active {
            display: block;
        }

        .form-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-bottom: 30px;
        }

        .form-section {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 5px;
        }

        .form-section h4 {
            margin-top: 0;
            color: #333;
        }

        .form-group {
            margin-bottom: 15px;
        }

        .form-group label {
            display: block;
            margin-bottom: 5px;
            font-weight: bold;
            color: #333;
        }

        .form-group input, .form-group select, .form-group textarea {
            width: 100%;
            padding: 8px;
            border: 1px solid #ddd;
            border-radius: 4px;
            box-sizing: border-box;
        }

        .form-group textarea {
            height: 80px;
            resize: vertical;
        }

        .btn {
            background-color: #007bff;
            color: white;
            padding: 10px 20px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-size: 14px;
        }

        .btn:hover {
            background-color: #0056b3;
        }

        .btn-danger {
            background-color: #dc3545;
        }

        .btn-danger:hover {
            background-color: #c82333;
        }

        .data-table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 20px;
        }

        .data-table th,
        .data-table td {
            padding: 12px;
            text-align: left;
            border-bottom: 1px solid #ddd;
        }

        .data-table th {
            background-color: #f8f9fa;
            font-weight: bold;
        }

        .data-table tr:hover {
            background-color: #f5f5f5;
        }

        .message {
            padding: 10px;
            margin: 10px 0;
            border-radius: 4px;
            display: none;
        }

        .message.success {
            background-color: #d4edda;
            color: #155724;
            border: 1px solid #c3e6cb;
        }

        .message.error {
            background-color: #f8d7da;
            color: #721c24;
            border: 1px solid #f5c6cb;
        }

        .message.show {
            display: block;
        }

        @media (max-width: 768px) {
            .form-grid {
                grid-template-columns: 1fr;
            }

            .admin-nav {
                flex-direction: column;
            }

            .admin-nav button {
                width: 100%;
            }

            .data-table {
                font-size: 12px;
            }
        }
    </style>
</head>
<body>
    <header>
        <h1>Mergington High School</h1>
        <h2>Administration Panel</h2>
    </header>

    <div class="admin-container">
        <!-- Navigation -->
        <nav class="admin-nav">
            <button onclick="showSection('students')" class="nav-btn active" id="students-nav">Students</button>
            <button onclick="showSection('courses')" class="nav-btn" id="courses-nav">Courses</button>
            <button onclick="showSection('enrollments')" class="nav-btn" id="enrollments-nav">Enrollments</button>
            <button onclick="showSection('attendance')" class="nav-btn" id="attendance-nav">Attendance</button>
            <button onclick="showSection('payments')" class="nav-btn" id="payments-nav">Payments</button>
            <a href="/static/index.html" style="text-decoration: none;">
                <button type="button" style="background-color: #6c757d;">Back to Main Site</button>
            </a>
        </nav>

        <!-- Message Display -->
        <div id="message" class="message"></div>

        <!-- Students Section -->
        <div id="students" class="admin-section active">
            <h3>Student Management</h3>
            
            <div class="form-grid">
                <div class="form-section">
                    <h4>Add New Student</h4>
                    <form id="student-form">
                        <div class="form-group">
                            <label for="student-name">Full Name:</label>
                            <input type="text" id="student-name" required>
                        </div>
                        <div class="form-group">
                            <label for="student-email">Email:</label>
                            <input type="email" id="student-email" required>
                        </div>
                        <div class="form-group">
                            <label for="student-grade">Grade:</label>
                            <select id="student-grade" required>
                                <option value="">Select Grade</option>
                                <option value="9">9th Grade</option>
                                <option value="10">10th Grade</option>
                                <option value="11">11th Grade</option>
                                <option value="12">12th Grade</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="student-phone">Phone (optional):</label>
                            <input type="tel" id="student-phone">
                        </div>
                        <button type="submit" class="btn">Add Student</button>
                    </form>
                </div>

                <div class="form-section">
                    <h4>Update Student</h4>
                    <form id="update-student-form">
                        <div class="form-group">
                            <label for="update-student-select">Select Student:</label>
                            <select id="update-student-select" required>
                                <option value="">Select a student to edit</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="update-student-name">Full Name:</label>
                            <input type="text" id="update-student-name" required>
                        </div>
                        <div class="form-group">
                            <label for="update-student-grade">Grade:</label>
                            <select id="update-student-grade" required>
                                <option value="">Select Grade</option>
                                <option value="9">9th Grade</option>
                                <option value="10">10th Grade</option>
                                <option value="11">11th Grade</option>
                                <option value="12">12th Grade</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="update-student-phone">Phone (optional):</label>
                            <input type="tel" id="update-student-phone">
                        </div>
                        <button type="submit" class="btn">Update Student</button>
                    </form>
                </div>
            </div>

            <h4>All Students</h4>
            <table class="data-table" id="students-table">
                <thead>
                    <tr>
                        <th>Name</th>
                        <th>Email</th>
                        <th>Grade</th>
                        <th>Phone</th>
                        <th>Actions</th>
                    </tr>
                </thead>
                <tbody>
                    <!-- Students will be loaded here -->
                </tbody>
            </table>
        </div>

        <!-- Courses Section -->
        <div id="courses" class="admin-section">
            <h3>Course Management</h3>
            
            <div class="form-grid">
                <div class="form-section">
                    <h4>Add New Course</h4>
                    <form id="course-form">
                        <div class="form-group">
                            <label for="course-name">Course Name:</label>
                            <input type="text" id="course-name" required>
                        </div>
                        <div class="form-group">
                            <label for="course-description">Description:</label>
                            <textarea id="course-description" required></textarea>
                        </div>
                        <div class="form-group">
                            <label for="course-schedule">Schedule:</label>
                            <input type="text" id="course-schedule" required placeholder="e.g., Mondays 3:30-4:30 PM">
                        </div>
                        <div class="form-group">
                            <label for="course-max-participants">Max Participants:</label>
                            <input type="number" id="course-max-participants" required min="1">
                        </div>
                        <div class="form-group">
                            <label for="course-instructor">Instructor (optional):</label>
                            <input type="text" id="course-instructor">
                        </div>
                        <button type="submit" class="btn">Add Course</button>
                    </form>
                </div>

                <div class="form-section">
                    <h4>Update Course</h4>
                    <form id="update-course-form">
                        <div class="form-group">
                            <label for="update-course-select">Select Course:</label>
                            <select id="update-course-select" required>
                                <option value="">Select a course to edit</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="update-course-name">Course Name:</label>
                            <input type="text" id="update-course-name" required>
                        </div>
                        <div class="form-group">
                            <label for="update-course-description">Description:</label>
                            <textarea id="update-course-description" required></textarea>
                        </div>
                        <div class="form-group">
                            <label for="update-course-schedule">Schedule:</label>
                            <input type="text" id="update-course-schedule" required>
                        </div>
                        <div class="form-group">
                            <label for="update-course-max-participants">Max Participants:</label>
                            <input type="number" id="update-course-max-participants" required min="1">
                        </div>
                        <div class="form-group">
                            <label for="update-course-instructor">Instructor (optional):</label>
                            <input type="text" id="update-course-instructor">
                        </div>
                        <button type="submit" class="btn">Update Course</button>
                    </form>
                </div>
            </div>

            <h4>All Courses</h4>
            <table class="data-table" id="courses-table">
                <thead>
                    <tr>
                        <th>Name</th>
                        <th>Description</th>
                        <th>Schedule</th>
                        <th>Max Participants</th>
                        <th>Instructor</th>
                        <th>Actions</th>
                    </tr>
                </thead>
                <tbody>
                    <!-- Courses will be loaded here -->
                </tbody>
            </table>
        </div>

        <!-- Enrollments Section -->
        <div id="enrollments" class="admin-section">
            <h3>Enrollment Management</h3>
            
            <div class="form-section">
                <h4>Enroll Student in Course</h4>
                <form id="enrollment-form">
                    <div class="form-group">
                        <label for="enroll-student-email">Student Email:</label>
                        <select id="enroll-student-email" required>
                            <option value="">Select a student</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="enroll-course-name">Course:</label>
                        <select id="enroll-course-name" required>
                            <option value="">Select a course</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="enrollment-date">Enrollment Date:</label>
                        <input type="date" id="enrollment-date" required>
                    </div>
                    <button type="submit" class="btn">Enroll Student</button>
                </form>
            </div>

            <h4>All Enrollments</h4>
            <table class="data-table" id="enrollments-table">
                <thead>
                    <tr>
                        <th>Student Email</th>
                        <th>Course Name</th>
                        <th>Enrollment Date</th>
                        <th>Actions</th>
                    </tr>
                </thead>
                <tbody>
                    <!-- Enrollments will be loaded here -->
                </tbody>
            </table>
        </div>

        <!-- Attendance Section -->
        <div id="attendance" class="admin-section">
            <h3>Attendance Management</h3>
            
            <div class="form-section">
                <h4>Record Attendance</h4>
                <form id="attendance-form">
                    <div class="form-group">
                        <label for="attendance-student-email">Student Email:</label>
                        <select id="attendance-student-email" required>
                            <option value="">Select a student</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="attendance-course-name">Course:</label>
                        <select id="attendance-course-name" required>
                            <option value="">Select a course</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="attendance-date">Date:</label>
                        <input type="date" id="attendance-date" required>
                    </div>
                    <div class="form-group">
                        <label for="attendance-present">Status:</label>
                        <select id="attendance-present" required>
                            <option value="">Select status</option>
                            <option value="true">Present</option>
                            <option value="false">Absent</option>
                        </select>
                    </div>
                    <button type="submit" class="btn">Record Attendance</button>
                </form>
            </div>

            <h4>All Attendance Records</h4>
            <table class="data-table" id="attendance-table">
                <thead>
                    <tr>
                        <th>Student Email</th>
                        <th>Course Name</th>
                        <th>Date</th>
                        <th>Status</th>
                    </tr>
                </thead>
                <tbody>
                    <!-- Attendance records will be loaded here -->
                </tbody>
            </table>
        </div>

        <!-- Payments Section -->
        <div id="payments" class="admin-section">
            <h3>Payment Management</h3>
            
            <div class="form-section">
                <h4>Record Payment</h4>
                <form id="payment-form">
                    <div class="form-group">
                        <label for="payment-student-email">Student Email:</label>
                        <select id="payment-student-email" required>
                            <option value="">Select a student</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="payment-course-name">Course:</label>
                        <select id="payment-course-name" required>
                            <option value="">Select a course</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="payment-amount">Amount ($):</label>
                        <input type="number" id="payment-amount" step="0.01" min="0" required>
                    </div>
                    <div class="form-group">
                        <label for="payment-date">Payment Date:</label>
                        <input type="date" id="payment-date" required>
                    </div>
                    <div class="form-group">
                        <label for="payment-status">Status:</label>
                        <select id="payment-status" required>
                            <option value="">Select status</option>
                            <option value="paid">Paid</option>
                            <option value="pending">Pending</option>
                            <option value="overdue">Overdue</option>
                        </select>
                    </div>
                    <button type="submit" class="btn">Record Payment</button>
                </form>
            </div>

            <h4>All Payment Records</h4>
            <table class="data-table" id="payments-table">
                <thead>
                    <tr>
                        <th>Student Email</th>
                        <th>Course Name</th>
                        <th>Amount</th>
                        <th>Payment Date</th>
                        <th>Status</th>
                    </tr>
                </thead>
                <tbody>
                    <!-- Payment records will be loaded here -->
                </tbody>
            </table>
        </div>
    </div>

    <script src="admin.js"></script>
</body>
</html>